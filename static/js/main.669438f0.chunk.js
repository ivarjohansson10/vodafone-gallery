(this["webpackJsonpvodafone-gallery"]=this["webpackJsonpvodafone-gallery"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(2),c=n.n(i),s=(n(14),n(15),n.p+"static/media/vodafone_logo.e5d27904.svg"),o=n(8),l=n(3),u=n(4),d=n(6),j=n(5),h=n(7),b=n(0),p=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("ul",{children:this.props.images.map((function(e){return Object(b.jsx)("li",{className:"thumbnail",children:Object(b.jsx)("img",{src:e,alt:e})},e)}))})})}}]),n}(r.a.Component),m=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderColours",value:function(){return Object.entries(this.props.data.variants).map((function(e,t){var n=Object(h.a)(e,2),a=n[0],r=n[1];return Object(b.jsx)("div",{className:r.pricingOptions[0].outOfStock?"strikethrough":"",children:Object(b.jsxs)("label",{className:"radio-button-label",htmlFor:r.colour.replace("#","").toLowerCase(),children:[r.colour,Object(b.jsx)("input",{type:"radio",name:"colour",id:r.colour.replace("#","").toLowerCase(),value:r.colour.replace("#","").toLowerCase(),onChange:function(){return O(r.phoneImages)},defaultChecked:0===t}),0===t?O(r.phoneImages):""]},a)},a)}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:"main-image",src:this.props.data.imageSrc,alt:this.props.data.name}),Object(b.jsx)("h2",{children:this.props.data.name}),Object(b.jsx)("div",{id:"thumbnails"}),Object(b.jsxs)("div",{children:[this.renderColours(),Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:this.props.data.summary}}),Object.entries(this.props.data.variants).map((function(e,t){var n=Object(h.a)(e,2),a=n[0],r=n[1];return Object(b.jsx)("div",{children:Object(b.jsx)("div",{children:Object.entries(r.pricingOptions).map((function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"grey-background",children:Object(b.jsxs)("span",{className:a.outOfStock?"strikethrough":"",children:[Object(b.jsx)("b",{children:"Colour: "}),r.colour," ",Object(b.jsx)("b",{children:"Capacity: "}),a.capacity]})}),Object(b.jsx)("div",{children:Object.entries(a.price).map((function(e,t){var n=Object(h.a)(e,2),i=n[0],c=n[1];return Object(b.jsxs)("label",{className:"radio-button-label",htmlFor:a.capacity.replace(" ","-")+r.colorCode.replace("#","")+c.planName.replace(" ","-").toLowerCase(),children:[Object(b.jsx)("input",{type:"radio",name:"plan",id:a.capacity.replace(" ","-")+r.colorCode.replace("#","")+c.planName.replace(" ","-").toLowerCase(),value:a.capacity.replace(" ","-")+r.colorCode.replace("#","")+c.planName.replace(" ","-").toLowerCase()}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Plan Name: "}),c.planName]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Plan Price: "}),c.planPrice]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Phone Price: "}),"0.00"===c.phonePrice?"Free":c.phonePrice]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Data Allowance: "}),c.dataAllowance]})]},i)}))})]},n)}))})},a)})),Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:this.props.data.fieldItems}}),Object(b.jsx)("hr",{}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("h4",{children:this.props.data.name})}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Once Off Price: "}),"0.00"===this.props.data.initialPhonePrice.value?"Free":"\u20ac"+this.props.data.initialPhonePrice.value]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Monthly Plan Name: "}),this.props.data.initialPlan.planName]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Monthly Plan Price: "}),"\u20ac",this.props.data.initialPlan.planPrice]})]})]})]})}},{key:"componentWillUnmount",value:function(){document.getElementById("phone-details").style.display="none",document.getElementById("overlay").style.display="none"}}]),n}(r.a.Component),O=function(e){setTimeout((function(){c.a.render(Object(b.jsx)(p,{images:e}),document.getElementById("thumbnails"))}),100)},f=m,g=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getDetails=function(t){fetch("".concat("/vodafone-gallery","/api/phones.json")).then((function(e){return e.json()})).then((function(n){var a=e.findId(n,t);c.a.render(Object(b.jsx)(f,{data:a}),document.getElementById("phone-details")),document.getElementById("phone-details").style.display="block",document.getElementById("overlay").style.display="block",window.scroll({top:0,behavior:"smooth"})}))},e.findId=function(e,t){for(var n=e.products,a=0;a<n.length;a++)if(n[a].id===t)return n[a]},e.closeOverlay=function(){Object(i.unmountComponentAtNode)(document.getElementById("phone-details"))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{id:"overlay",className:"overlay",onClick:function(){return e.closeOverlay()}}),Object(b.jsx)("ul",{children:this.props.results.map((function(t){return Object(b.jsxs)("li",{className:"phone-cell",children:[Object(b.jsx)("img",{src:t.imageSrc,alt:t.name}),Object(b.jsx)("h2",{children:t.name}),Object(b.jsx)("b",{children:"0.00"===t.initialPhonePrice.value?"Free":"\u20ac"+t.initialPhonePrice.value}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Plan Name: "}),t.initialPlan.planName]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Plan Price: "}),"\u20ac",t.initialPlan.planPrice]})]}),e.checkIfSoldOut(t.variants)?Object(b.jsx)("b",{children:"Sold Out"}):Object(b.jsx)("b",{children:"In Stock"}),Object(b.jsx)("button",{onClick:function(){return e.getDetails(t.id)},children:"Show details"})]},t.id)}))})]})}},{key:"checkIfSoldOut",value:function(e){for(var t=0,n=0;n<e.length;n++)!1===e[n].pricingOptions[0].outOfStock&&t++;return t!==e.length}}]),n}(r.a.Component),v=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(){a.setState({enabledFilter:!a.state.enabledFilter})},a.state={enabledFilter:!1},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsx)("label",{htmlFor:this.props.name,className:this.state.enabledFilter?"active":"idle",children:this.props.name}),Object(b.jsx)("input",{type:"checkbox",id:this.props.name,onClick:this.props.onClick,onChange:this.handleChange})]})}}]),n}(r.a.Component),x=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).filterResults=function(e){for(var t=[],n=0;n<e.products.length;n++){var r=e.products[n],i=!1;0===a.state.filters.brands.length||a.state.filters.brands.includes(r.brand)||(i=!0);for(var c="",s=0;s<r.specifications.length;s++)"Operation System"===r.specifications[s].name&&(c=r.specifications[s].value);0===a.state.filters.os.length||a.state.filters.os.includes(c)||(i=!0),a.state.filters.maxPrice<parseFloat(r.initialPhonePrice.value)&&(i=!0),!1===i&&t.push(r)}return t},a.sortResultsByPrice=function(e){return e.sort((function(e,t){return e.initialPhonePrice.value-t.initialPhonePrice.value})),e},a.getPhones=function(e){fetch("".concat("/vodafone-gallery","/api/phones.json")).then((function(e){return e.json()})).then((function(t){var n=a.filterResults(t);a.state.filters.sorted&&(n=a.sortResultsByPrice(n));var r=0,s=9;0!==e&&n.length>9&&(s=(r=9*e)+9);var o=n.slice(r,s);n.length>9&&9===o.length?c.a.render(Object(b.jsx)(y,{name:"Next Page",onClick:function(){return a.nextPage()}}),document.getElementById("pagination")):0!==e?c.a.render(Object(b.jsx)(y,{name:"Prev Page",onClick:function(){return a.prevPage()}}),document.getElementById("pagination")):Object(i.unmountComponentAtNode)(document.getElementById("pagination")),c.a.render(Object(b.jsx)(g,{results:o}),document.getElementById("gallery"))}))},a.toggleBrands=function(e){var t=Object(o.a)({},a.state.filters);a.state.filters.brands.includes(e)?t.brands=a.state.filters.brands.filter((function(t){return t!==e})):t.brands.push(e),a.setState({filters:t}),a.setState({pageNumber:0}),a.getPhones(0)},a.toggleOS=function(e){var t=Object(o.a)({},a.state.filters);a.state.filters.os.includes(e)?t.os=a.state.filters.os.filter((function(t){return t!==e})):t.os.push(e),a.setState({filters:t}),a.setState({pageNumber:0}),a.getPhones(0)},a.toggleMaxPrice=function(e){var t=Object(o.a)({},a.state.filters);a.state.filters.maxPrice!==e?t.maxPrice=e:t.maxPrice=5e3,a.setState({filters:t}),a.setState({pageNumber:0}),a.getPhones(0)},a.sortResults=function(e){var t=Object(o.a)({},a.state.filters);a.state.filters.sorted?t.sorted=!1:t.sorted=!0,a.setState({filters:t}),a.getPhones(a.state.pageNumber)},a.nextPage=function(){var e=a.state.pageNumber+1;a.setState({pageNumber:e},(function(){a.getPhones(a.state.pageNumber)}))},a.prevPage=function(){var e=a.state.pageNumber-1;a.setState({pageNumber:e}),a.setState({pageNumber:e},(function(){a.getPhones(a.state.pageNumber)}))},a.state={filters:{brands:[],os:[],maxPrice:9999,sorted:!1},pageNumber:0},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)(v,{name:"Apple",onClick:function(){return e.toggleBrands("Apple")}}),Object(b.jsx)(v,{name:"Samsung",onClick:function(){return e.toggleBrands("Samsung")}}),Object(b.jsx)(v,{name:"Android",onClick:function(){return e.toggleOS("Android")}}),Object(b.jsx)(v,{name:"iOS",onClick:function(){return e.toggleOS("iOS")}}),Object(b.jsx)(v,{name:"< \u20ac500",onClick:function(){return e.toggleMaxPrice(500)}}),Object(b.jsx)(v,{name:"< \u20ac300",onClick:function(){return e.toggleMaxPrice(300)}}),Object(b.jsx)(v,{name:"Sort By Price (Low to High)",onClick:function(){return e.sortResults()}}),Object(b.jsx)("div",{id:"gallery"}),Object(b.jsx)("div",{id:"pagination"})]})}},{key:"componentDidMount",value:function(){this.getPhones(0)}}]),n}(r.a.Component),y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("button",{onClick:this.props.onClick,children:this.props.name})}}]),n}(r.a.Component),P=x,k=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"app-header",children:Object(b.jsx)("img",{className:"main-logo",src:s,alt:"Vodafone"})}),Object(b.jsx)(P,{}),Object(b.jsx)("div",{id:"phone-details",className:"modal"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.669438f0.chunk.js.map