(this["webpackJsonpvodafone-gallery"]=this["webpackJsonpvodafone-gallery"]||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){},16:function(e,n,t){"use strict";t.r(n);var c=t(1),i=t.n(c),a=t(2),r=t.n(a),o=(t(13),t(14),t.p+"static/media/vodafone_logo.e5d27904.svg"),s=t(3),l=t(4),d=t(6),j=t(5),u=t(7),h=t(0),b=function(e){Object(d.a)(t,e);var n=Object(j.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("ul",{children:this.props.images.map((function(e){return Object(h.jsx)("li",{className:"thumbnail",children:Object(h.jsx)("img",{src:e,alt:e})},e)}))})})}}]),t}(i.a.Component),p=function(e){Object(d.a)(t,e);var n=Object(j.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"renderColours",value:function(){return Object.entries(this.props.data.variants).map((function(e,n){var t=Object(u.a)(e,2),c=t[0],i=t[1];return Object(h.jsx)("div",{className:i.pricingOptions[0].outOfStock?"strikethrough":"",children:Object(h.jsxs)("label",{className:"radio-button-label",htmlFor:i.colour.replace("#","").toLowerCase(),children:[i.colour,Object(h.jsx)("input",{type:"radio",name:"colour",id:i.colour.replace("#","").toLowerCase(),value:i.colour.replace("#","").toLowerCase(),onChange:function(){return m(i.phoneImages)},defaultChecked:0===n}),0===n?m(i.phoneImages):""]},c)},c)}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:"main-image",src:this.props.data.imageSrc,alt:this.props.data.name}),Object(h.jsx)("h2",{children:this.props.data.name}),Object(h.jsx)("div",{id:"thumbnails"}),Object(h.jsxs)("div",{children:[this.renderColours(),Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:this.props.data.summary}}),Object.entries(this.props.data.variants).map((function(e,n){var t=Object(u.a)(e,2),c=t[0],i=t[1];return Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object.entries(i.pricingOptions).map((function(e){var n=Object(u.a)(e,2),t=n[0],c=n[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"grey-background",children:Object(h.jsxs)("span",{className:c.outOfStock?"strikethrough":"",children:[Object(h.jsx)("b",{children:"Colour: "}),i.colour," ",Object(h.jsx)("b",{children:"Capacity: "}),c.capacity]})}),Object(h.jsx)("div",{children:Object.entries(c.price).map((function(e,n){var t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(h.jsxs)("label",{className:"radio-button-label",htmlFor:c.capacity.replace(" ","-")+i.colorCode.replace("#","")+r.planName.replace(" ","-").toLowerCase(),children:[Object(h.jsx)("input",{type:"radio",name:"plan",id:c.capacity.replace(" ","-")+i.colorCode.replace("#","")+r.planName.replace(" ","-").toLowerCase(),value:c.capacity.replace(" ","-")+i.colorCode.replace("#","")+r.planName.replace(" ","-").toLowerCase()}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Plan Name: "}),r.planName]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Plan Price: "}),r.planPrice]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Phone Price: "}),"0.00"===r.phonePrice?"Free":r.phonePrice]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Data Allowance: "}),r.dataAllowance]})]},a)}))})]},t)}))})},c)})),Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:this.props.data.fieldItems}}),Object(h.jsx)("hr",{}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("h4",{children:this.props.data.name})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Once Off Price: "}),"0.00"===this.props.data.initialPhonePrice.value?"Free":"\u20ac"+this.props.data.initialPhonePrice.value]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Monthly Plan Name: "}),this.props.data.initialPlan.planName]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Monthly Plan Price: "}),"\u20ac",this.props.data.initialPlan.planPrice]})]})]})]})}},{key:"componentWillUnmount",value:function(){document.getElementById("phone-details").style.display="none",document.getElementById("overlay").style.display="none"}}]),t}(i.a.Component),m=function(e){setTimeout((function(){r.a.render(Object(h.jsx)(b,{images:e}),document.getElementById("thumbnails"))}),100)},O=p,f=function(e){fetch("".concat("/vodafone-gallery","/api/phones.json")).then((function(e){return e.json()})).then((function(n){var t=v(n,e);r.a.render(Object(h.jsx)(O,{data:t}),document.getElementById("phone-details")),document.getElementById("phone-details").style.display="block",document.getElementById("overlay").style.display="block",window.scroll({top:0,behavior:"smooth"})}))},x=function(){Object(a.unmountComponentAtNode)(document.getElementById("phone-details"))},v=function(e,n){for(var t=e.products,c=0;c<t.length;c++)if(t[c].id===n)return t[c]};function g(e){for(var n=0,t=0;t<e.length;t++)!1===e[t].pricingOptions[0].outOfStock&&n++;return n!==e.length}var y=function(e){var n=e.results;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{id:"overlay",className:"overlay",onClick:function(){return x()}}),Object(h.jsx)("ul",{children:n.map((function(e){return Object(h.jsxs)("li",{className:"phone-cell",children:[Object(h.jsx)("img",{src:e.imageSrc,alt:e.name}),Object(h.jsx)("h2",{children:e.name}),Object(h.jsx)("b",{children:"0.00"===e.initialPhonePrice.value?"Free":"\u20ac"+e.initialPhonePrice.value}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Plan Name: "}),e.initialPlan.planName]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Plan Price: "}),"\u20ac",e.initialPlan.planPrice]})]}),g(e.variants)?Object(h.jsx)("b",{children:"Sold Out"}):Object(h.jsx)("b",{children:"In Stock"}),Object(h.jsx)("button",{onClick:function(){return f(e.id)},children:"Show details"})]},e.id)}))})]})},P=function(e){Object(d.a)(t,e);var n=Object(j.a)(t);function t(e){var c;return Object(s.a)(this,t),(c=n.call(this,e)).handleChange=function(){c.setState({enabledFilter:!c.state.enabledFilter})},c.state={enabledFilter:!1},c}return Object(l.a)(t,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"filters",children:[Object(h.jsx)("label",{htmlFor:this.props.name,className:this.state.enabledFilter?"active":"idle",children:this.props.name}),Object(h.jsx)("input",{type:"checkbox",id:this.props.name,onClick:this.props.onClick,onChange:this.handleChange})]})}}]),t}(i.a.Component),C={brands:[],os:[],maxPrice:9999,sorted:!1},k=0,N=function(e){Object(d.a)(t,e);var n=Object(j.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(P,{name:"Apple",onClick:function(){return S("Apple")}}),Object(h.jsx)(P,{name:"Samsung",onClick:function(){return S("Samsung")}}),Object(h.jsx)(P,{name:"Android",onClick:function(){return B("Android")}}),Object(h.jsx)(P,{name:"iOS",onClick:function(){return B("iOS")}}),Object(h.jsx)(P,{name:"< \u20ac500",onClick:function(){return E(500)}}),Object(h.jsx)(P,{name:"< \u20ac300",onClick:function(){return E(300)}}),Object(h.jsx)(P,{name:"Sort By Price (Low to High)",onClick:function(){return F()}}),Object(h.jsx)("div",{id:"gallery"}),Object(h.jsx)("div",{id:"pagination"})]})}},{key:"componentDidMount",value:function(){I(0)}}]),t}(i.a.Component),w=function(e){Object(d.a)(t,e);var n=Object(j.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(h.jsx)("button",{onClick:this.props.onClick,children:this.props.name})}}]),t}(i.a.Component),I=function(e){fetch("".concat("/vodafone-gallery","/api/phones.json")).then((function(e){return e.json()})).then((function(n){var t=function(e){for(var n=[],t=0;t<e.products.length;t++){var c=e.products[t],i=!1;0===C.brands.length||C.brands.includes(c.brand)||(i=!0);for(var a="",r=0;r<c.specifications.length;r++)"Operation System"===c.specifications[r].name&&(a=c.specifications[r].value);0===C.os.length||C.os.includes(a)||(i=!0),C.maxPrice<parseFloat(c.initialPhonePrice.value)&&(i=!0),!1===i&&n.push(c)}return n}(n);C.sorted&&(t=function(e){return e.sort((function(e,n){return e.initialPhonePrice.value-n.initialPhonePrice.value})),e}(t));var c=0,i=9;0!==e&&t.length>9&&(i=(c=9*e)+9);var o=t.slice(c,i);t.length>9&&9===o.length?r.a.render(Object(h.jsx)(w,{name:"Next Page",onClick:function(){return A()}}),document.getElementById("pagination")):0!==e?r.a.render(Object(h.jsx)(w,{name:"Prev Page",onClick:function(){return L()}}),document.getElementById("pagination")):Object(a.unmountComponentAtNode)(document.getElementById("pagination")),r.a.render(Object(h.jsx)(y,{results:o}),document.getElementById("gallery"))}))},S=function(e){C.brands.includes(e)?C.brands=C.brands.filter((function(n){return n!==e})):C.brands.push(e),I(k=0)},B=function(e){C.os.includes(e)?C.os=C.os.filter((function(n){return n!==e})):C.os.push(e),I(k=0)},E=function(e){C.maxPrice!==e?C.maxPrice=e:C.maxPrice=5e3,I(k=0)},F=function(e){C.sorted?C.sorted=!1:C.sorted=!0,I(k)},A=function(){k++,I(k)},L=function(){k--,I(k)},M=N,_=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"app-header",children:Object(h.jsx)("img",{className:"main-logo",src:o,alt:"Vodafone"})}),Object(h.jsx)(M,{}),Object(h.jsx)("div",{id:"phone-details",className:"modal"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.2eb5d5e9.chunk.js.map